{"ast":null,"code":"import React,{useState,useEffect}from'react';import API from'../../services/api';import{useNavigate}from'react-router-dom';import{Container,Typography,TextField,Button,MenuItem}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddPayroll=()=>{const navigate=useNavigate();const[employees,setEmployees]=useState([]);const[form,setForm]=useState({employee_id:'',basic_salary:'',tax:'',deductions:''});useEffect(()=>{API.get('/employees').then(res=>setEmployees(res.data)).catch(err=>console.error(err));},[]);const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleSubmit=e=>{e.preventDefault();API.post('/payroll',form).then(()=>{alert('Payroll added successfully');navigate('/payroll');}).catch(err=>{console.error(err);alert('Error adding payroll');});};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Add Payroll\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Employee\",name:\"employee_id\",value:form.employee_id,onChange:handleChange,select:true,fullWidth:true,margin:\"normal\",required:true,children:employees.map(emp=>/*#__PURE__*/_jsxs(MenuItem,{value:emp.employee_id,children:[emp.first_name,\" \",emp.last_name]},emp.employee_id))}),/*#__PURE__*/_jsx(TextField,{label:\"Basic Salary\",name:\"basic_salary\",type:\"number\",value:form.basic_salary,onChange:handleChange,fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Tax\",name:\"tax\",type:\"number\",value:form.tax,onChange:handleChange,fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Deductions\",name:\"deductions\",type:\"number\",value:form.deductions,onChange:handleChange,fullWidth:true,margin:\"normal\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,children:\"Add Payroll\"})]})]});};export default AddPayroll;","map":{"version":3,"names":["React","useState","useEffect","API","useNavigate","Container","Typography","TextField","Button","MenuItem","jsx","_jsx","jsxs","_jsxs","AddPayroll","navigate","employees","setEmployees","form","setForm","employee_id","basic_salary","tax","deductions","get","then","res","data","catch","err","console","error","handleChange","e","target","name","value","handleSubmit","preventDefault","post","alert","maxWidth","children","variant","gutterBottom","onSubmit","label","onChange","select","fullWidth","margin","required","map","emp","first_name","last_name","type","color"],"sources":["C:/payroll-management/payroll/client/src/components/Payroll/AddPayroll.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport API from '../../services/api';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  MenuItem,\r\n} from '@mui/material';\r\n\r\nconst AddPayroll = () => {\r\n  const navigate = useNavigate();\r\n  const [employees, setEmployees] = useState([]);\r\n  const [form, setForm] = useState({\r\n    employee_id: '',\r\n    basic_salary: '',\r\n    tax: '',\r\n    deductions: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    API.get('/employees')\r\n      .then((res) => setEmployees(res.data))\r\n      .catch((err) => console.error(err));\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    API.post('/payroll', form)\r\n      .then(() => {\r\n        alert('Payroll added successfully');\r\n        navigate('/payroll');\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        alert('Error adding payroll');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Add Payroll\r\n      </Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField\r\n          label=\"Employee\"\r\n          name=\"employee_id\"\r\n          value={form.employee_id}\r\n          onChange={handleChange}\r\n          select\r\n          fullWidth\r\n          margin=\"normal\"\r\n          required\r\n        >\r\n          {employees.map((emp) => (\r\n            <MenuItem key={emp.employee_id} value={emp.employee_id}>\r\n              {emp.first_name} {emp.last_name}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n        <TextField\r\n          label=\"Basic Salary\"\r\n          name=\"basic_salary\"\r\n          type=\"number\"\r\n          value={form.basic_salary}\r\n          onChange={handleChange}\r\n          fullWidth\r\n          margin=\"normal\"\r\n          required\r\n        />\r\n        <TextField\r\n          label=\"Tax\"\r\n          name=\"tax\"\r\n          type=\"number\"\r\n          value={form.tax}\r\n          onChange={handleChange}\r\n          fullWidth\r\n          margin=\"normal\"\r\n          required\r\n        />\r\n        <TextField\r\n          label=\"Deductions\"\r\n          name=\"deductions\"\r\n          type=\"number\"\r\n          value={form.deductions}\r\n          onChange={handleChange}\r\n          fullWidth\r\n          margin=\"normal\"\r\n        />\r\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth>\r\n          Add Payroll\r\n        </Button>\r\n      </form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AddPayroll;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}